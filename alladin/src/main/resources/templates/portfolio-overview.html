<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Portfolio Overview</title>
  <meta charset="UTF-8">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
  <h2 class="mb-4 text-center">ðŸ“Š My Portfolio</h2>

  <table class="table table-bordered table-hover">
    <thead class="table-light">
    <tr>
      <th>Stock</th>
      <th>Invested</th>
      <th>Avg Open</th>
      <th>Quantity</th>
      <th>Current Price</th>
      <th>Total Value</th>
      <th>P/L</th>
      <th>Details</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="stock : ${portfolioList}">
      <td th:text="${stock.stockSymbol} + ' - ' + ${stock.stockName}"></td>
      <td th:text="${stock.totalInvested} + ' â‚¬'"></td>
      <td th:text="${stock.averageOpenPrice}"></td>
      <td th:text="${stock.quantity}"></td>
      <td th:text="${stock.currentPrice}"></td>
      <td th:text="${stock.totalValue} + ' â‚¬'"></td>
      <td th:text="${stock.profitLoss} + ' â‚¬'"
          th:classappend="${stock.profitLoss > 0} ? 'text-success' : 'text-danger'"></td>
      <td>
        <a th:href="@{'/trader/portfolio/' + ${stock.stockId}}" class="btn btn-sm btn-primary">View</a>
      </td>
    </tr>
    </tbody>
  </table>
  <br><br>
  <div class="text-end mt-4">
    <a href="/trader/trader-dashboard" class="btn btn-outline-dark">Back to Dashboard</a>
  </div>
  <br><br>
</div>
</body>
</html>
